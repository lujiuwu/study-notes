

## CSR（客户端渲染）

> CSR（Client-Side Rendering）是前端开发中最常见的渲染方式。
> 在这种模式下，服务器主要负责提供静态的HTML文件（可能包含一些基本的HTML结构和JavaScript脚本），而`真正的页面渲染工作则完全由客户端的浏览器`来完成。这意味着页面内容是在用户的`浏览器上动态生成`的

**传统的spa应用，都属于CSR (Client Side Rendering)客户端渲染**
* SPA（单页面）应用就是只有一张Web页面的应用
### 优点

1. **响应速度快**：一旦HTML文件加载完成，浏览器就可以开始渲染页面，而不需要等待服务器返回完整的渲染结果。
2. **动态性强**：由于页面渲染在客户端进行，因此可以方便地实现各种动态交互效果。
3. **前端部署简单**：只需要一个静态服务即可部署前端代码，降低了部署成本。

### 缺点

1. **首屏加载时间长**：由于需要加载整个JavaScript包，可能导致`首屏加载时间较长`，特别是对于复杂的单页应用（SPA）
2. **不利于SEO**：搜索引擎爬虫可能无法很好地解析由JavaScript动态生成的页面内容，搜索引擎访问页面时，只会看 HTML 中的内容，默认是不会执行JS，所以抓取不到页面的具体内容导致SEO效果较差（`SEO -- 按照搜索引擎的算法`）
3. **白屏时间**：在JavaScript代码加载和执行期间，用户可能会看到空白的页面，即所谓的“白屏时间”

## SSR（服务端渲染）

> SSR（Server-Side Rendering）是一种在服务器端完成页面渲染的技术
> 在这种模式下，服务器接收到客户端的请求后，会先根据请求数据和模板文件`生成完整的HTML页面`，然后`将这个页面直接发送给客户端`。这样，用户可以直接看到完成的内容，`无需等待JavaScript加载和执行`

**适用于动态页面，SEO的诉求 要求首屏时间快的场景，提高用户的体验**
### 优点

1. **首屏加载速度快**：由于服务器已经生成了完整的HTML页面，因此客户端可以直接显示这个页面，无需等待JavaScript加载和执行。
2. **SEO友好**：搜索引擎爬虫可以很好地解析由服务器生成的HTML页面内容，有利于SEO优化。
3. **适合复杂页面**：对于包含大量数据、需要复杂计算的页面，SSR可以更好地处理并减少客户端的负载。

### 缺点

1. **服务器压力大**：SSR 需要较高的服务器运维成本、切换页面时较慢，每次切换页面都需要服务端新生成页面；对于每个请求，服务器都需要重新渲染页面，这可能导致服务器压力过大。
2. **开发限制**：SSR要求开发者在编写Vue组件时，需要考虑到服务器端和客户端环境的差异，不能过度依赖客户端环境。
3. **调试困难**：SSR的调试过程相对复杂，需要同时考虑到服务器端和客户端的日志和错误信息。

## SSG（静态站点生成）

> SSG（Static Site Generation）是一种在构建时生成静态HTML页面的技术
> 在这种模式下，开发者会编写一些模板文件和数据文件，然后`使用构建工具`（如Hugo、Gatsby等）将`这些文件转换为静态的HTML页面`。这些页面可以`直接部署到服务器`上，而不需要服务器进行实时渲染

**适用于：页面内容由后端获取，但变化不频繁，满足SEO 的诉求、要求首屏时间快的场景，SSG打包好的是静态页面，和普通页面部署一样**
### 优点

1. **性能卓越**：由于页面是静态的，因此无需等待服务器渲染，直接由浏览器加载显示，具有出色的性能。
2. **安全性高**：由于服务器只提供静态文件，因此降低了遭受攻击的风险。
3. **适合内容型网站**：对于内容更新不频繁的内容型网站（如博客、文档网站等），SSG是一个很好的选择。

### 缺点

1. **动态性受限**：由于页面是静态的，因此难以实现复杂的动态交互效果。
2. **构建时间长**：对于大型站点，构建时间可能会比较长。
3. **不适合频繁更新**：对于需要频繁更新数据的网站，SSG可能不太适合，因为每次更新都需要重新构建并部署整个网站。

## ISR（增量静态再生）

> 创建具有动态路由的页面（增量静态再生），允许在应用运行时再重新生成每个页面 HTML，而不需要重新构建整个应用，这样即使有海量页面（比如博客、商品介绍页等场景），也能使用上 SSG 的特性


## VUE SSR服务端渲染

### SSR原理

> 通过`asyncData`获取数据，数据获取成功后，通过`vue-server-renderer`将数据渲染到页面中，生成完整的html内容，服务端将这段html发送给客户端，实现服务端渲染

### SSR基本交互流程

1）在浏览器访问首页时，Web 服务器根据路由拿到对应数据渲染并输出html，输出的html包含两部分

  ①路由页对应的页面及已渲染好的数据（后端渲染）
  ②完整的SPA程序代码

2）在客户端首屏渲染完成之后，其实已经是一个和之前的 SPA 相差无几的应用程序了，接下来我们进行的任何操作都只是客户端的应用进行交互

### VUE SSR整体流程

1）配置两个入口文件，一个是客户端使用，一个是服务端使用，一套代码两套执行环境

2）服务端渲染需要Vue实例，每一次客户端请求页面，服务端渲染都是用一个新的Vue实例，服务端利用工厂函数每次都返回一个新的Vue实例

3）获取请求页面的路由，生成对应的vue实例

4）如果页面中需要调接口获取数据，通过`asyncData`获取数据，数据获取成功后，通过异步的方式再继续进行初始化，通过`vue-server-renderer`将数据渲染到页面中，生成html内容

