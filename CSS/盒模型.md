在 CSS 中，所有的元素都被一个个的“盒子”包围着，理解这些“盒子”的基本原理，是我们使用 CSS 实现准确布局、处理元素排列的关键
## 盒子类型

据 W3C CSS Display Module Level 3 规范，主要的盒子类型包括：
* 块级盒子
* 行内级盒子
* 行内块级盒子
* 弹性盒子
* 网格盒子
* 表格盒子
* 列表项盒子

### 块级盒子

> 块级盒子是`参与块格式化上下文`的盒子。每个块级盒子生成一个主要的块级盒子，包含后代盒子和生成的内容，并且也是参与`任何定位方案`的盒子。

**特点**
- 默认情况下会占据父容器的全部宽度
- 在垂直方向上一个接一个排列
- 可以设置宽度( width )、高度( height )、内外边距 ( padding,margin )等属性
- 常见的块级元素：`<div>`, `<p>`, `<h1>`-`<h6>`, `<section>`, `<ul>` 等

### 行内级盒子

> 行内级盒子是参与`行内格式化上下文`的盒子。非替换的行内级盒子（例如，由行内元素生成的行内级盒子）称为行内盒子。

**特点**
- 不会独占一行，与其他行内元素排在同一行
- 宽度和高度设置无效
- 只能容纳文本或其他行内元素
- 常见的行内元素：`<span>`, `<a>`, `<strong>`, `<em>`, `<img>` 等

### 行内块级盒子

> 行内块盒子类似于行内盒子，但对于其内容而言，它的行为类似于块级盒子

**特点**
- 外部表现为行内元素（不独占一行）
- 内部表现为块级元素（可以设置宽高、内外边距）
- 常用于创建水平排列但需要设置尺寸的元素

**常见的行内块元素**
* 表现默认为`display:inline-block`的元素：替换元素

**布局问题**
* 行内块元素之间的换行或空格会显示为约 `4px` 的间隙。
* 默认 `vertical-align: baseline` 可能导致元素不对齐，可改为 `top/middle`
### 关于替换元素

> 在 CSS Display Module Level 3 中，`替换元素`的行内级盒子（inline-level boxes）行为与普通行内盒子不同

#### 什么是替换元素

* 由CSS2.1定义
* 替换元素是 CSS 布局中一类`特殊元素`，它们的内容由`外部资源`决定，具有`固有尺寸和特殊的布局行为`

**常见的替换元素**
* img图像 -- HTML IMG 元素的内容通常由其 src 属性指定的图像替换
* type="image"的input 表单输入
* textarea 多行文本输入
* select  下拉选择框
* video 视频
* audio 音频

#### 替换元素的核心特性

1. **内容由外部决定**：内容不受文档样式直接影响，而是由外部资源（如图片文件）或元素自身特性决定。
    
2. **固有尺寸（Intrinsic Dimensions）**：
    - 替换元素通常有自己固有的宽度、高度和宽高比
    - 例如：图片的尺寸由图片文件本身决定
        
3. **特殊的显示行为**：
    - 即使设置为 `display: inline`，也能设置宽度和高度
    - 垂直对齐方式（vertical-align）对其影响显著
        
4. **样式控制限制**：
    - 不能直接使用伪元素（::before, ::after）
    - 某些 CSS 属性对其无效

#### 替换元素在布局中的特殊表现

1. **宽高计算**：
    - 如果没有明确设置宽度或高度，将使用其固有尺寸
    - 如果只设置一个维度（如宽度），另一个维度（高度）会`按比例`缩放
        
2. **基线对齐**：
    - 替换元素的基线默认是其底部边缘
    - 这解释了为什么图片下方有时会有间隙

#### 处理替换元素的常见问题

* 图片下方的间隙问题：
```css
img {
  display: block; /* 方案1：改为块级元素 */
  vertical-align: top; /* 方案2：修改对齐方式 */
}
```
### 弹性盒子

> 弹性容器为其内容建立一个新的弹性格式化上下文。这与建立块格式化上下文相同，只是使用弹性布局而不是块布局

**特点**
- 子元素可以灵活地伸缩和排列
- 可以控制子元素的对齐、顺序、大小等
- 通过 `display: flex` 或 `display: inline-flex` 创建

### 网格盒子

> 网格容器为其内容建立一个新的网格格式化上下文。这与建立块格式化上下文相同，只是使用网格布局而不是块布局


## 盒模型

> CSS 盒模型`整体上适用于区块盒子`，它定义了盒子的不同部分（外边距、边框、内边距和内容）如何协同工作，以创建一个在页面上可以看到的盒子
> 而行内盒子使用的只是盒模型中定义的`部分行为`

**标准盒模型与IE/替代盒模型**

### 行内元素与盒模型

> 以上所有的方法都完全适用于块级盒子。某些属性也适用于行内盒子，

* 行内元素不能直接设置宽高
* 行内元素对于内边距：
     * 水平方向影响布局（挤压相邻元素）
     * 垂直方向虽然生效（背景色/边框会扩展）；但不会影响宽高
* 行内元素对于外边距：
     * 水平方向正常生效
     * 垂直方向不生效
* 边框
     * 水平方向正常显示
     * 垂直方向会显示边框，但不会增加行高，可能导致边框与上下行重叠
